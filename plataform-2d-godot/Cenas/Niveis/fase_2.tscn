[gd_scene load_steps=30 format=4 uid="uid://c7hamugihjp7o"]

[ext_resource type="Script" uid="uid://bqgrlnirhmdri" path="res://Scripts/Niveis/tutorial_2.gd" id="1_567s1"]
[ext_resource type="PackedScene" uid="uid://bih7god6r8j2v" path="res://Cenas/Entes/porta.tscn" id="2_c7i80"]
[ext_resource type="Texture2D" uid="uid://w76vy1do6b2b" path="res://Sprites/Backgrounds/MVP_sky.png" id="3_6r0a3"]
[ext_resource type="PackedScene" uid="uid://bqbxnpowjnvbq" path="res://Cenas/Entes/botao.tscn" id="4_8ipts"]
[ext_resource type="Shader" uid="uid://6yucnp7stuyd" path="res://Scripts/Niveis/BG_scroll.gdshader" id="4_sque7"]
[ext_resource type="Texture2D" uid="uid://bxcchyqyx552y" path="res://Sprites/Placeholders/Tileset Chão 1.png" id="5_8ipts"]
[ext_resource type="AudioStream" uid="uid://cppnrfbqrxf83" path="res://Audio/Plataforma - Tutorial 2/Subir plataforma- ideia 1.mp3" id="5_c7i80"]
[ext_resource type="Texture2D" uid="uid://pr3hlf7cmhty" path="res://Sprites/Backgrounds/MVP_clouds.png" id="5_gfb4h"]
[ext_resource type="PackedScene" uid="uid://dpqe8ehe4j6el" path="res://Cenas/Ambiente/tileset_plataforma.tscn" id="5_kqia7"]
[ext_resource type="Texture2D" uid="uid://u7jketmgjaqv" path="res://Sprites/Backgrounds/Fase 2 MVP1 full.png" id="5_v84dr"]
[ext_resource type="AudioStream" uid="uid://byxxskd1s8gpx" path="res://Audio/Plataforma - Tutorial 2/Descer plataforma- ideia 1.mp3" id="6_kqia7"]
[ext_resource type="PackedScene" uid="uid://cg0iyugvxt7cr" path="res://Cenas/Entes/Roteador.tscn" id="7_6r0a3"]
[ext_resource type="Texture2D" uid="uid://d3dwlfsq1y3mw" path="res://Sprites/Backgrounds/Plataforma1_Cristal.png" id="8_yddrn"]
[ext_resource type="PackedScene" uid="uid://ib1vw877v0g7" path="res://Cenas/Entes/coletavel.tscn" id="14_sque7"]
[ext_resource type="Script" uid="uid://dl44b750l42a1" path="res://Scripts/Entes/dt_coletavel2.gd" id="15_lwefe"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_nayi6"]
shader = ExtResource("4_sque7")
shader_parameter/speed = 0.0005
shader_parameter/step_interval = 0.2

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_8ipts"]
texture = ExtResource("5_8ipts")
texture_region_size = Vector2i(10, 10)
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:1/0 = 0
4:1/0 = 0
4:0/0 = 0
5:0/0 = 0
3:0/0 = 0
5:1/0 = 0
5:2/0 = 0
5:3/0 = 0
5:4/0 = 0
5:5/0 = 0
4:5/0 = 0
3:5/0 = 0
2:5/0 = 0
2:4/0 = 0
2:3/0 = 0
4:3/0 = 0
3:3/0 = 0
4:2/0 = 0
3:4/0 = 0
1:5/0 = 0
0:5/0 = 0
0:4/0 = 0
0:3/0 = 0
1:3/0 = 0
1:4/0 = 0
4:4/0 = 0
3:2/0 = 0

[sub_resource type="TileSet" id="TileSet_567s1"]
tile_size = Vector2i(10, 10)
sources/0 = SubResource("TileSetAtlasSource_8ipts")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kmevy"]
size = Vector2(640, 46)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8ipts"]
size = Vector2(351, 222)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_v84dr"]
size = Vector2(60, 17)

[sub_resource type="Animation" id="Animation_3x3p0"]
length = 0.001
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-19, 134)]
}

[sub_resource type="Animation" id="Animation_v84dr"]
resource_name = "plataforma-tutorial2"
length = 5.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2.5, 5),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(-19, 134), Vector2(-19, -88), Vector2(-19, 134)]
}
tracks/1/type = "audio"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("som_subir")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"clips": [{
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("5_c7i80")
}],
"times": PackedFloat32Array(0)
}
tracks/1/use_blend = true
tracks/2/type = "audio"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("som_descer")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"clips": [{
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("6_kqia7")
}],
"times": PackedFloat32Array(2.5)
}
tracks/2/use_blend = true

[sub_resource type="AnimationLibrary" id="AnimationLibrary_46ph7"]
_data = {
&"RESET": SubResource("Animation_3x3p0"),
&"plataforma-tutorial2": SubResource("Animation_v84dr")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wk01p"]
size = Vector2(60, 9.5)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_kmevy"]
normal = Vector2(0.0181503, -0.999835)
distance = 31.7018

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_8ipts"]
normal = Vector2(-1, 0)

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_sque7"]
normal = Vector2(0, 1)
distance = 3.0

[sub_resource type="CircleShape2D" id="CircleShape2D_fdn0s"]

[node name="Fase_2" type="Node2D"]
script = ExtResource("1_567s1")

[node name="Fase2Mvp1Full" type="Sprite2D" parent="."]
z_index = -1
position = Vector2(320, 182)
scale = Vector2(1, 1.00833)
texture = ExtResource("5_v84dr")

[node name="MvpSky" type="Sprite2D" parent="Fase2Mvp1Full"]
z_index = -2
position = Vector2(0, -129.918)
scale = Vector2(1, 0.991739)
texture = ExtResource("3_6r0a3")

[node name="MvpClouds" type="Sprite2D" parent="Fase2Mvp1Full"]
z_index = -1
texture_filter = 2
texture_repeat = 2
material = SubResource("ShaderMaterial_nayi6")
position = Vector2(0, -129.918)
scale = Vector2(1, 0.991739)
texture = ExtResource("5_gfb4h")

[node name="Chão" type="Node2D" parent="."]
visible = false

[node name="Chao" type="TileMapLayer" parent="Chão"]
visible = false
tile_set = SubResource("TileSet_567s1")

[node name="StaticBody2D" type="StaticBody2D" parent="Chão"]
position = Vector2(333, 383)
collision_layer = 3
collision_mask = 3
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Chão/StaticBody2D"]
position = Vector2(-13, -47)
shape = SubResource("RectangleShape2D_kmevy")

[node name="elevacao" type="StaticBody2D" parent="Chão"]
position = Vector2(434, 186)
collision_layer = 3
collision_mask = 3
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="Chão/elevacao"]
position = Vector2(31.5, 16)
shape = SubResource("RectangleShape2D_8ipts")

[node name="Porta" parent="." instance=ExtResource("2_c7i80")]
z_index = -1
position = Vector2(577, 67)

[node name="player_1_spawn" type="Marker2D" parent="."]
position = Vector2(40, 301)

[node name="player_2_spawn" type="Marker2D" parent="."]
position = Vector2(93, 301)

[node name="plataforma" type="AnimatableBody2D" parent="."]
position = Vector2(-19, 134)
collision_layer = 3
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="plataforma"]
position = Vector2(279, 190)
shape = SubResource("RectangleShape2D_v84dr")

[node name="TileMapLayer" parent="plataforma/CollisionShape2D" instance=ExtResource("5_kqia7")]
tile_map_data = PackedByteArray("AAD9////BAADAAAAAAACAP//BAACAAAAAAD+////BAAEAAAAAAD/////BAAEAAAAAAAAAP//BAAEAAAAAAABAP//BAAEAAAAAAD9/wAABAADAAEAAAACAAAABAACAAEAAAD+/wAABAAEAAEAAAD//wAABAAEAAEAAAAAAAAABAAEAAEAAAABAAAABAAEAAEAAAA=")

[node name="AnimationPlayer" type="AnimationPlayer" parent="plataforma"]
libraries = {
&"": SubResource("AnimationLibrary_46ph7")
}

[node name="som_subir" type="AudioStreamPlayer" parent="plataforma"]

[node name="som_descer" type="AudioStreamPlayer" parent="plataforma"]

[node name="AREA PARA EVITAR BUG" type="Area2D" parent="plataforma"]
visible = false
position = Vector2(302, 182)
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="plataforma/AREA PARA EVITAR BUG"]
position = Vector2(-23, 3.25)
shape = SubResource("RectangleShape2D_wk01p")

[node name="Sprite2D" type="Sprite2D" parent="plataforma"]
position = Vector2(279, 190)
texture = ExtResource("8_yddrn")

[node name="Roteador" parent="." instance=ExtResource("7_6r0a3")]
position = Vector2(357, 21)

[node name="Botao" parent="." instance=ExtResource("4_8ipts")]
position = Vector2(472, 78)

[node name="Limites laterais" type="Node2D" parent="."]

[node name="esquerdo" type="StaticBody2D" parent="Limites laterais"]
position = Vector2(-32, 200)
collision_layer = 3
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="Limites laterais/esquerdo"]
rotation = 1.55264
shape = SubResource("WorldBoundaryShape2D_kmevy")

[node name="direito" type="StaticBody2D" parent="Limites laterais"]
collision_layer = 3
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="Limites laterais/direito"]
position = Vector2(640, 24)
shape = SubResource("WorldBoundaryShape2D_8ipts")

[node name="Cima" type="StaticBody2D" parent="Limites laterais" groups=["paredes_retrateis"]]
collision_layer = 3
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="Limites laterais/Cima"]
position = Vector2(296, -1)
shape = SubResource("WorldBoundaryShape2D_sque7")

[node name="Coletavel" parent="." instance=ExtResource("14_sque7")]
position = Vector2(157, 300)
diary_text = "Não tem como começar a falar sobre mim em um diário sem falar da Layla. Nossa amizade começou há quase 5 anos, quando estávamos na faculdade. Desde então, é como se eu de repente tivesse uma irmã.

Dizem que a maçã não cai longe da árvore e isso deve explicar eu ter herdado o amor do meu pai pela ciência. Se não foi isso, com certeza foi o fato de ter virado parte de mim, quando ele adaptou meu corpo com peças robóticas para eu sobreviver quando era um bebê. É claro que havia um porém. Meu pai foi um pesquisador da exploração espacial, o maior da atualidade. Só que eu nunca havia me interessado muito pela cosmologia, o que pra ele era uma grande frustração no meio de todo o orgulho que sentia por mim. Não tinha me interessado até conhecer a Layla.

Ela sempre soube que queria trabalhar com isso e tinha o fascínio pelo universo que meu pai sempre sonhou que eu tivesse. Eu, por outro lado, sabia que estudar a geração de energia elétrica era o que realmente fazia brilhar meus olhos. Com o desenvolvimento tecnológico irrefreável, essa se tornou uma das questões mais urgentes da humanidade. Na última década, especialmente, depois que foi criado o Protocolo Mundial da Água, as normas para uso dos recursos hídricos se tornaram bastante rígidas, o que impactou drasticamente as matrizes energéticas mais importantes. Foi quando uma colega - que confesso nem ir muito com a cara na época - da minha turma me apresentou o projeto dela. No meio dos seus estudos sobre o portais, ela captou grandes quantidades de energia vindas do único que é acessível, descoberto por meu pai. Desde então, eu e ela fazemos nossa pesquisa com os equipamentos de última geração do laboratório que pertencia a ele.
"

[node name="DTColetavel2" type="Area2D" parent="."]
position = Vector2(192, 216)
script = ExtResource("15_lwefe")
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="DTColetavel2"]
shape = SubResource("CircleShape2D_fdn0s")

[connection signal="body_entered" from="Botao" to="." method="_on_botao_body_entered"]
[connection signal="body_exited" from="Botao" to="." method="_on_botao_body_exited"]
[connection signal="body_entered" from="DTColetavel2" to="DTColetavel2" method="_on_body_entered"]
